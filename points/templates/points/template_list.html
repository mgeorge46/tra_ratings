{% extends "tra_theme/base.html" %}
{% block title %}Notification Templates{% endblock %}

{% block content %}
<h2 style="margin-bottom: 20px;">üì® Notification Templates</h2>
<a href="{% url 'template_add' %}" class="btn btn-primary" style="margin-bottom: 15px;">‚ûï Add Template</a>

<table class="styled-table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Created</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for t in templates %}
    <tr>
      <td>{{ t.name }}</td>
      <td>{{ t.type }}</td>
      <td>{{ t.created_at|date:"Y-m-d H:i" }}</td>
      <td>
        <a href="{% url 'edit_template' t.pk %}" class="action-btn edit">‚úèÔ∏è Edit</a>
        <a href="#" class="action-btn preview">üëÅÔ∏è Preview</a>
        <a href="#" class="action-btn delete" onclick="confirmDelete">üóëÔ∏è Delete</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<!-- Optional delete confirmation -->
<script>
  function confirmDelete(id) {
    if (confirm("Are you sure you want to delete this template?")) {
      window.location.href = "/points/templates/delete/" + id + "/";
    }
  }
</script>

<style>
  .styled-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
    font-size: 16px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }

  .styled-table thead tr {
    background-color: #2a5298;
    color: #ffffff;
    text-align: left;
  }

  .styled-table th, .styled-table td {
    padding: 12px 15px;
    border-bottom: 1px solid #ddd;
  }

  .styled-table tbody tr:nth-child(even) {
    background-color: #f3f3f3;
  }

  .styled-table tbody tr:hover {
    background-color: #eef2ff;
  }

  .action-btn {
    padding: 4px 8px;
    margin-right: 6px;
    border-radius: 4px;
    font-size: 14px;
    text-decoration: none;
    font-weight: 500;
  }

  .edit {
    background-color: #ffd966;
    color: #333;
  }

  .preview {
    background-color: #b3e5fc;
    color: #004d40;
  }

  .delete {
    background-color: #ef9a9a;
    color: #b71c1c;
  }

  .edit:hover,
  .preview:hover,
  .delete:hover {
    opacity: 0.85;
  }
</style>

{% endblock %}
